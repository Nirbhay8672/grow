import{d as w,c as r,a as e,w as y,b as v,e as k,n as g,t as c,f as N,o as d,g as T,F as D,r as V,h,i as z,j as _,u as F,k as U,l as q,m as $,p as x,q as C}from"./app-CRGLASZN.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-IzvrKXsQ.js";import{d as Y}from"./index-BcgMG_W3.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CMWG4mbA.js";const I={class:"space-y-4"},G={class:"form-group"},P={key:0,class:"invalid-feedback"},H={class:"form-group"},J={key:0,class:"invalid-feedback"},K={class:"form-group"},O={class:"form-check"},Q=w({__name:"StateForm",props:{form:{},editingState:{},errors:{}},emits:["submit","cancel"],setup(s,{emit:p}){return(m,t)=>(d(),r("div",I,[e("div",G,[t[3]||(t[3]=e("label",{for:"name",class:"form-label"}," State Name ",-1)),y(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=l=>s.form.name=l),type:"text",class:g(["form-control",{"is-invalid":s.errors.name}]),placeholder:"Enter state name",required:""},null,2),[[k,s.form.name]]),s.errors.name?(d(),r("div",P,c(s.errors.name[0]),1)):v("",!0)]),e("div",H,[t[4]||(t[4]=e("label",{for:"code",class:"form-label"}," State Code ",-1)),y(e("input",{id:"code","onUpdate:modelValue":t[1]||(t[1]=l=>s.form.code=l),type:"text",class:g(["form-control",{"is-invalid":s.errors.code}]),placeholder:"Enter state code (e.g., CA, NY)",maxlength:"3",required:""},null,2),[[k,s.form.code]]),s.errors.code?(d(),r("div",J,c(s.errors.code[0]),1)):v("",!0)]),e("div",K,[e("div",O,[y(e("input",{id:"is_active","onUpdate:modelValue":t[2]||(t[2]=l=>s.form.is_active=l),type:"checkbox",class:"form-check-input"},null,512),[[N,s.form.is_active]]),t[5]||(t[5]=e("label",{for:"is_active",class:"form-check-label"}," Active ",-1))])])]))}}),R={class:"card"},W={class:"card-body p-0"},X={class:"table4 p-25 bg-white mb-30"},Z={class:"table-responsive"},ee={class:"table mb-0"},te={class:"userDatatable-content"},se={class:"d-flex align-items-center"},ae={class:"userDatatable-inline-title"},oe={href:"#",class:"text-dark fw-500"},le={class:"userDatatable-content"},ne={class:"bg-opacity-primary color-primary rounded-pill userDatatable-content-status active"},ie={class:"userDatatable-content"},re={class:"userDatatable-content"},de={class:"userDatatable-content"},ce={class:"d-flex align-items-center gap-2"},ue=["onClick"],me=["onClick"],be={key:0,class:"text-center py-5"},ve=w({__name:"StateTable",props:{states:{}},emits:["edit","delete"],setup(s,{emit:p}){const m=p,t=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return T(()=>{typeof window<"u"&&window.feather&&window.feather.replace()}),(l,n)=>(d(),r("div",R,[n[2]||(n[2]=e("div",{class:"card-header color-dark fw-500"}," States Management ",-1)),e("div",W,[e("div",X,[e("div",Z,[e("table",ee,[n[0]||(n[0]=e("thead",null,[e("tr",{class:"userDatatable-header"},[e("th",null,[e("span",{class:"userDatatable-title"},"State Name")]),e("th",null,[e("span",{class:"userDatatable-title"},"Code")]),e("th",null,[e("span",{class:"userDatatable-title"},"Status")]),e("th",null,[e("span",{class:"userDatatable-title"},"Created")]),e("th",null,[e("span",{class:"userDatatable-title"},"Actions")])])],-1)),e("tbody",null,[(d(!0),r(D,null,V(s.states,a=>(d(),r("tr",{key:a.id},[e("td",null,[e("div",te,[e("div",se,[e("div",ae,[e("a",oe,c(a.name),1)])])])]),e("td",null,[e("div",le,[e("span",ne,c(a.code),1)])]),e("td",null,[e("div",ie,[e("span",{class:g(["rounded-pill userDatatable-content-status",a.is_active?"bg-opacity-success color-success active":"bg-opacity-danger color-danger"])},c(a.is_active?"Active":"Inactive"),3)])]),e("td",null,[e("div",re,c(t(a.created_at)),1)]),e("td",null,[e("div",de,[e("div",ce,[e("button",{onClick:i=>m("edit",a),class:"btn btn-sm btn-outline-primary",title:"Edit State",style:{padding:"4px 8px","min-width":"32px",height:"32px"}}," ‚úèÔ∏è ",8,ue),e("button",{onClick:i=>m("delete",a),class:"btn btn-sm btn-outline-danger",title:"Delete State",style:{padding:"4px 8px","min-width":"32px",height:"32px"}}," üóëÔ∏è ",8,me)])])])]))),128))])])])])]),s.states.length===0?(d(),r("div",be,[...n[1]||(n[1]=[e("div",{class:"mb-3"},[e("span",{style:{"font-size":"48px"}},"üó∫Ô∏è")],-1),e("h6",{class:"text-muted"},"No states found",-1),e("p",{class:"text-muted mb-0"},"Get started by creating a new state.",-1)])])):v("",!0)]))}}),fe={class:"row"},he={class:"col-12"},pe={key:0,class:"modal fade show d-block",tabindex:"-1",role:"dialog","aria-labelledby":"stateModalLabel","aria-hidden":"false",style:{"background-color":"rgba(0,0,0,0.5)"}},_e={class:"modal-dialog modal-lg modal-dialog-centered",role:"document"},ge={class:"modal-content"},ye={class:"modal-header"},xe={class:"modal-title",id:"stateModalLabel"},we={class:"modal-body"},Se={class:"modal-footer"},ke=["disabled"],$e={key:0,class:"spinner-border spinner-border-sm me-1"},Ce={class:"d-flex align-items-center"},De={class:"me-2",style:{"font-size":"18px"}},Be=w({__name:"States",props:{states:{}},setup(s){const p=[{title:"Dashboard",href:Y().url},{title:"States",href:"/states"}],m=h(!1),t=h(null),l=h(!1),n=h({}),a=h({show:!1,message:"",type:"success"}),i=z({name:"",code:"",is_active:!0}),f=()=>{i.name="",i.code="",i.is_active=!0,n.value={},t.value=null,m.value=!1},b=(o,u="success")=>{a.value={show:!0,message:o,type:u},setTimeout(()=>{a.value.show=!1},3e3)},B=o=>{t.value=o,i.name=o.name,i.code=o.code,i.is_active=o.is_active,n.value={},m.value=!0},M=()=>{f(),m.value=!0},S=async()=>{l.value=!0,n.value={};try{t.value?(await x.put(`/states/${t.value.id}`,i),b("State updated successfully!")):(await x.post("/states",i),b("State created successfully!")),f(),C.reload()}catch(o){o.response?.status===422?(n.value=o.response.data.errors,b("Please fix the validation errors.","error")):(console.error("Error saving state:",o),b("An error occurred while saving the state.","error"))}finally{l.value=!1}},A=async o=>{if((await window.Swal.fire({title:"Are you sure?",text:`You are about to delete the state "${o.name}". This action cannot be undone!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",reverseButtons:!0})).isConfirmed)try{await x.delete(`/states/${o.id}`),b("State deleted successfully!"),C.reload()}catch(E){console.error("Error deleting state:",E),b("An error occurred while deleting the state.","error")}};return(o,u)=>(d(),r(D,null,[_(F(U),{title:"States Management"}),_(L,{breadcrumbs:p},{default:q(()=>[e("div",fe,[e("div",he,[e("div",{class:"d-flex justify-content-between align-items-center mb-30 mt-4"},[u[1]||(u[1]=e("div",null,[e("h4",{class:"color-dark fw-500"},"States Management"),e("p",{class:"text-muted mb-0"},"Manage states and their information")],-1)),e("button",{onClick:M,class:"btn btn-primary btn-default btn-squared text-capitalize lh-normal px-50 py-15"},[...u[0]||(u[0]=[e("span",{"data-feather":"plus",class:"me-1"},null,-1),$(" Add State ",-1)])])]),_(ve,{states:s.states,onEdit:B,onDelete:A},null,8,["states"]),m.value?(d(),r("div",pe,[e("div",_e,[e("div",ge,[e("div",ye,[e("h5",xe,c(t.value?"Edit State":"Create State"),1),e("button",{type:"button",class:"btn-close",onClick:f,"aria-label":"Close"},[...u[2]||(u[2]=[e("span",{"aria-hidden":"true"},"√ó",-1)])])]),e("div",we,[_(Q,{form:i,"editing-state":t.value,errors:n.value,onSubmit:S,onCancel:f},null,8,["form","editing-state","errors"])]),e("div",Se,[e("button",{type:"button",class:"btn btn-secondary",onClick:f}," Cancel "),e("button",{type:"button",class:"btn btn-primary",onClick:S,disabled:l.value},[l.value?(d(),r("span",$e)):v("",!0),$(" "+c(t.value?"Update State":"Create State"),1)],8,ke)])])])])):v("",!0)])]),a.value.show?(d(),r("div",{key:0,class:g(["toast-notification",a.value.type==="success"?"toast-success":"toast-error"]),style:{position:"fixed",top:"20px",right:"20px","z-index":"9999","min-width":"300px",padding:"12px 16px","border-radius":"8px",color:"white","font-weight":"500","box-shadow":"0 4px 12px rgba(0,0,0,0.15)"}},[e("div",Ce,[e("span",De,c(a.value.type==="success"?"‚úÖ":"‚ùå"),1),e("span",null,c(a.value.message),1)])],2)):v("",!0)]),_:1})],64))}}),ze=j(Be,[["__scopeId","data-v-980046ea"]]);export{ze as default};
