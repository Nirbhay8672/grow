import{d as B,r as i,f as S,c as v,a as l,u as $,h as z,w as f,b as s,i as A,A as E,e as h,m as k,t as _,F as N,s as m,x as w,_ as V}from"./app-Dto5FeMA.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-BhHeXh4H.js";import{M}from"./Modal-Dtu2lvpR.js";import{_ as Y}from"./FurnitureTypeForm.vue_vue_type_script_setup_true_lang-KwnZYHOg.js";import{_ as q}from"./FurnitureTypeTable.vue_vue_type_script_setup_true_lang-pJCIDumF.js";import{d as I}from"./index-BcgMG_W3.js";import"./index-CMWG4mbA.js";const P={class:"row"},U={class:"col-12"},j={class:"d-flex align-items-center"},G={class:"me-2",style:{"font-size":"18px"}},H=B({__name:"FurnitureTypes",props:{furnitureTypes:{}},setup(x){const b=[{title:"Dashboard",href:I().url},{title:"Furniture Types",href:"/furniture-types"}],c=i(!1),t=i(null),p=i(!1),n=i({}),a=i({show:!1,message:"",type:"success"}),r=S({name:"",is_active:!0}),d=()=>{r.name="",r.is_active=!0,n.value={},t.value=null,c.value=!1},o=(e,u="success")=>{a.value={show:!0,message:e,type:u},setTimeout(()=>{a.value.show=!1},3e3)},g=e=>{t.value=e,r.name=e.name,r.is_active=e.is_active,n.value={},c.value=!0},T=()=>{d(),c.value=!0},y=async()=>{p.value=!0,n.value={};try{t.value?(await m.put(`/furniture-types/${t.value.id}`,r),o("Furniture Type updated successfully!")):(await m.post("/furniture-types",r),o("Furniture Type created successfully!")),d(),w.reload()}catch(e){e.response?.status===422?(n.value=e.response.data.errors,o("Please fix the validation errors.","error")):(console.error("Error saving furniture type:",e),o("An error occurred while saving the furniture type.","error"))}finally{p.value=!1}},F=async e=>{if((await window.Swal.fire({title:"Are you sure?",text:`You are about to delete the furniture type "${e.name}". This action cannot be undone!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",reverseButtons:!0})).isConfirmed)try{await m.delete(`/furniture-types/${e.id}`),o("Furniture Type deleted successfully!"),w.reload()}catch(C){console.error("Error deleting furniture type:",C),o("An error occurred while deleting the furniture type.","error")}};return(e,u)=>(h(),v(N,null,[l($(z),{title:"Furniture Types Management"}),l(D,{breadcrumbs:b},{default:f(()=>[s("div",P,[s("div",U,[l(q,{"furniture-types":x.furnitureTypes,onEdit:g,onDelete:F},{"header-action":f(()=>[s("button",{onClick:T,class:"btn btn-primary btn-sm btn-default btn-squared text-capitalize lh-normal px-3 py-2"},[...u[0]||(u[0]=[s("span",{"data-feather":"plus",class:"me-1"},null,-1),E(" Add Furniture Type ",-1)])])]),_:1},8,["furniture-types"]),l(M,{show:c.value,title:t.value?"Edit Furniture Type":"Create Furniture Type",loading:p.value,"submit-label":t.value?"Update Furniture Type":"Create Furniture Type",size:"sm",onClose:d,onSubmit:y},{default:f(()=>[l(Y,{form:r,"editing-furniture-type":t.value,errors:n.value,onSubmit:y,onCancel:d},null,8,["form","editing-furniture-type","errors"])]),_:1},8,["show","title","loading","submit-label"])])]),a.value.show?(h(),v("div",{key:0,class:k(["toast-notification",a.value.type==="success"?"toast-success":"toast-error"]),style:{position:"fixed",top:"20px",right:"20px","z-index":"9999","min-width":"300px",padding:"12px 16px","border-radius":"8px",color:"white","font-weight":"500","box-shadow":"0 4px 12px rgba(0,0,0,0.15)"}},[s("div",j,[s("span",G,_(a.value.type==="success"?"✅":"❌"),1),s("span",null,_(a.value.message),1)])],2)):A("",!0)]),_:1})],64))}}),Z=V(H,[["__scopeId","data-v-7b495235"]]);export{Z as default};
