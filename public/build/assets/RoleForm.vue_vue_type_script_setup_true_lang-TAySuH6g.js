import{d as _,g as y,c,b as s,k as x,i as k,v as g,n as C,t as m,F as f,m as p,e as a}from"./app-0JMNLgL9.js";const P={class:"form-group mb-2"},z={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},w={class:"form-group mb-0"},E={class:"row"},F={class:"card"},R={class:"card-header d-flex justify-content-between align-items-center"},S={class:"mb-0 text-capitalize"},$=["onClick"],A={class:"card-body"},B={class:"row"},D={class:"form-check"},V=["id","checked","onChange"],M=["for"],q=_({__name:"RoleForm",props:{form:{},permissions:{},editingRole:{},errors:{}},emits:["submit","cancel"],setup(r,{emit:N}){const l=r,d=y(()=>{const o={};return l.permissions.forEach(e=>{const[t]=e.name.split(".");o[t]||(o[t]=[]),o[t].push(e)}),o}),u=o=>l.form.permissions.includes(o),h=o=>{const e=[...l.form.permissions],t=e.indexOf(o);t>-1?e.splice(t,1):e.push(o),l.form.permissions=e},b=o=>{const e=d.value[o];e.every(n=>u(n.name))?e.forEach(n=>{const i=l.form.permissions.indexOf(n.name);i>-1&&l.form.permissions.splice(i,1)}):e.forEach(n=>{l.form.permissions.includes(n.name)||l.form.permissions.push(n.name)})},v=o=>d.value[o].every(t=>u(t.name));return(o,e)=>(a(),c("div",null,[s("div",P,[e[1]||(e[1]=s("label",{for:"name",class:"form-label mb-1",style:{"font-size":"14px"}}," Role Name ",-1)),x(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>r.form.name=t),type:"text",class:C(["form-control form-control-sm",{"is-invalid":r.errors.name}]),placeholder:"Enter role name",required:""},null,2),[[g,r.form.name]]),r.errors.name?(a(),c("div",z,m(r.errors.name[0]),1)):k("",!0)]),s("div",w,[e[2]||(e[2]=s("label",{class:"form-label mb-1",style:{"font-size":"14px"}}," Permissions ",-1)),s("div",E,[(a(!0),c(f,null,p(d.value,(t,n)=>(a(),c("div",{key:n,class:"col-md-6 mb-3"},[s("div",F,[s("div",R,[s("h6",S,m(n)+" Management ",1),s("button",{type:"button",onClick:i=>b(n),class:"btn btn-sm btn-outline-primary"},m(v(n)?"Deselect All":"Select All"),9,$)]),s("div",A,[s("div",B,[(a(!0),c(f,null,p(t,i=>(a(),c("div",{key:i.id,class:"col-6 mb-2"},[s("div",D,[s("input",{id:`permission-${i.id}`,type:"checkbox",checked:u(i.name),onChange:O=>h(i.name),class:"form-check-input",style:{width:"16px",height:"16px"}},null,40,V),s("label",{for:`permission-${i.id}`,class:"form-check-label ms-2",style:{"font-size":"14px"}},m(i.name.split(".")[1]),9,M)])]))),128))])])])]))),128))])])]))}});export{q as _};
