import{d as V,r as k,O as z,s as h,c as l,b as s,k as u,i as c,q as b,m as f,F as y,p as g,t as n,v as E,B as S,e as o}from"./app-Be-oj_rW.js";const q={class:"form-group mb-2"},w=["value"],B={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},C={class:"form-group mb-2"},T=["disabled"],U={value:""},F=["value"],M={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},N={class:"form-group mb-2"},p={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},D={class:"form-group mb-0"},L={class:"form-check"},I=V({__name:"VillageForm",props:{form:{},districts:{},editingVillage:{},errors:{}},emits:["submit","cancel"],setup(t,{emit:_}){const a=t,r=k([]),m=k(!1);z(()=>a.form.district_id,async d=>{d?await v(parseInt(d)):(r.value=[],a.form.taluka_id="")},{immediate:!0});const v=async d=>{if(!d){r.value=[];return}m.value=!0;try{const e=await h.get(`/districts/${d}/talukas`);r.value=e.data,a.form.taluka_id&&(r.value.some(x=>x.id===parseInt(a.form.taluka_id))||(a.form.taluka_id=""))}catch(e){console.error("Error loading talukas:",e),r.value=[]}finally{m.value=!1}};return a.editingVillage&&a.form.district_id&&v(parseInt(a.form.district_id)),(d,e)=>(o(),l("div",null,[s("div",q,[e[5]||(e[5]=s("label",{for:"district_id",class:"form-label mb-1",style:{"font-size":"14px"}}," District ",-1)),u(s("select",{id:"district_id","onUpdate:modelValue":e[0]||(e[0]=i=>t.form.district_id=i),class:f(["form-control form-control-sm",{"is-invalid":t.errors.district_id}]),required:""},[e[4]||(e[4]=s("option",{value:""},"Select a district",-1)),(o(!0),l(y,null,g(t.districts,i=>(o(),l("option",{key:i.id,value:i.id},n(i.name),9,w))),128))],2),[[b,t.form.district_id]]),t.errors.district_id?(o(),l("div",B,n(t.errors.district_id[0]),1)):c("",!0)]),s("div",C,[e[6]||(e[6]=s("label",{for:"taluka_id",class:"form-label mb-1",style:{"font-size":"14px"}}," Taluka ",-1)),u(s("select",{id:"taluka_id","onUpdate:modelValue":e[1]||(e[1]=i=>t.form.taluka_id=i),class:f(["form-control form-control-sm",{"is-invalid":t.errors.taluka_id}]),disabled:!t.form.district_id||m.value,required:""},[s("option",U,n(t.form.district_id?m.value?"Loading...":"Select a taluka":"Select district first"),1),(o(!0),l(y,null,g(r.value,i=>(o(),l("option",{key:i.id,value:i.id},n(i.name),9,F))),128))],10,T),[[b,t.form.taluka_id]]),t.errors.taluka_id?(o(),l("div",M,n(t.errors.taluka_id[0]),1)):c("",!0)]),s("div",N,[e[7]||(e[7]=s("label",{for:"name",class:"form-label mb-1",style:{"font-size":"14px"}}," Village Name ",-1)),u(s("input",{id:"name","onUpdate:modelValue":e[2]||(e[2]=i=>t.form.name=i),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.name}]),placeholder:"Enter village name",required:""},null,2),[[E,t.form.name]]),t.errors.name?(o(),l("div",p,n(t.errors.name[0]),1)):c("",!0)]),s("div",D,[s("div",L,[u(s("input",{id:"is_active","onUpdate:modelValue":e[3]||(e[3]=i=>t.form.is_active=i),type:"checkbox",class:"form-check-input",style:{width:"16px",height:"16px"}},null,512),[[S,t.form.is_active]]),e[8]||(e[8]=s("label",{for:"is_active",class:"form-check-label ms-2",style:{"font-size":"14px"}}," Active ",-1))])])]))}});export{I as _};
