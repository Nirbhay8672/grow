import{d as M,r as N,g as O,O as j,c as r,b as e,i as m,k as u,B as k,v as b,m as f,t as _,F as h,p,q as F,a as y,u as $,e as n,_ as q}from"./app-EEW5rfl7.js";import{X as w}from"./x-Cq7nhNrv.js";import{P as R}from"./plus-By4uKs1q.js";import"./createLucideIcon-BadnkGs4.js";const T={class:"mb-4"},H={class:"mb-4"},L={class:"row"},W={class:"col-md-4 mb-3"},X={class:"form-check"},G={class:"col-md-4 mb-3"},J={class:"form-check"},K={class:"col-md-4 mb-3"},Q={class:"form-check"},Y={key:0,class:"row mt-3"},Z={class:"col-md-4"},x={key:0,class:"invalid-feedback d-block"},I={class:"mb-4"},ee={class:"row mb-3"},oe={class:"col-md-4"},te={key:0,class:"invalid-feedback d-block"},le={class:"col-md-3 mb-3"},se=["for"],ae=["id","onUpdate:modelValue","placeholder"],ie={key:0,class:"invalid-feedback d-block"},re={class:"col-md-3 mb-3"},ne=["for"],de=["id","onUpdate:modelValue"],me={key:0,class:"invalid-feedback d-block"},_e={class:"col-md-3 mb-3"},ce=["for"],ue=["id","onUpdate:modelValue"],fe={key:0,class:"invalid-feedback d-block"},be={class:"col-md-3 mb-3"},he=["for"],pe={class:"input-group input-group-sm"},ve=["id","onUpdate:modelValue"],ge=["id","onUpdate:modelValue"],ke=["value"],ye={key:0,class:"invalid-feedback d-block"},$e={key:1,class:"invalid-feedback d-block"},we={class:"mb-4"},Ue={class:"row"},Fe={class:"form-check"},Ve=["id","value"],Ce=["for"],Pe={key:0,class:"invalid-feedback d-block"},Ae={class:"mb-4"},Be={class:"row align-items-start"},Ee={class:"col-md-4 mb-3"},De=["for"],ze=["id","onUpdate:modelValue"],Se=["value"],Me={key:0,class:"invalid-feedback d-block"},Ne={class:"col-md-5 mb-3"},Oe=["for"],je=["id","onChange"],qe={key:0,class:"invalid-feedback d-block"},Re={key:1,class:"mt-2"},Te={class:"small text-white"},He=["onClick"],Le={key:2,class:"mt-2"},We={class:"small text-white"},Xe=["onClick"],Ge={class:"col-md-3 mb-3"},Je={class:"d-flex gap-1"},Ke=["onClick"],Qe={class:"mb-4"},Ye={class:"row"},Ze={class:"col-md-6"},xe={key:0,class:"invalid-feedback d-block"},Ie={key:1,class:"mt-2 small text-muted"},eo={class:"mb-4"},oo={class:"row"},to={class:"col-md-12"},lo={key:0,class:"invalid-feedback d-block"},so=M({__name:"ParkingAndAmenities",props:{form:{},errors:{},amenities:{},measurementUnits:{}},setup(d){const i=d,g=N({}),s=O(()=>({...i.errors,...g.value})),V=[{value:"Fact sheet",label:"Fact sheet"},{value:"Area sheet",label:"Area sheet"},{value:"Price sheet",label:"Price sheet"},{value:"Images",label:"Images"},{value:"Other",label:"Other"}];(!i.form.document_uploads||i.form.document_uploads.length===0)&&(i.form.document_uploads=[{id:1,category:"",files:[],uploaded_files:[]}]);let C=i.form.document_uploads.length>0?Math.max(...i.form.document_uploads.map(c=>c.id))+1:2;(!i.form.basement_parking||i.form.basement_parking.length===0)&&(i.form.basement_parking=[{floor_no:"Floor 1",ev_charging_point:"",hydraulic_parking:"",height_of_basement:"",height_of_basement_unit_id:""}]),i.form.amenity_ids||(i.form.amenity_ids=[]),j(()=>i.form.total_floor_for_parking,c=>{const o=parseInt(c)||1,t=i.form.basement_parking.length;if(o>t)for(let l=t;l<o;l++)i.form.basement_parking.push({floor_no:`Floor ${l+1}`,ev_charging_point:"",hydraulic_parking:"",height_of_basement:"",height_of_basement_unit_id:""});else o<t&&o>0&&(i.form.basement_parking=i.form.basement_parking.slice(0,o));i.form.basement_parking.forEach((l,a)=>{(!l.floor_no||l.floor_no==="")&&(l.floor_no=`Floor ${a+1}`)}),i.form.basement_parking.length===0&&i.form.basement_parking.push({floor_no:"Floor 1",ev_charging_point:"",hydraulic_parking:"",height_of_basement:"",height_of_basement_unit_id:""})},{immediate:!1});const P=()=>{i.form.document_uploads.push({id:C++,category:"",files:[],uploaded_files:[]})},A=c=>{i.form.document_uploads.length>1&&(i.form.document_uploads=i.form.document_uploads.filter(o=>o.id!==c))},B=(c,o)=>{const t=c.target;if(t.files){const l=Array.from(t.files);i.form.document_uploads[o].files=[...i.form.document_uploads[o].files||[],...l]}},E=(c,o)=>{i.form.document_uploads[c].files.splice(o,1)},D=(c,o)=>{i.form.document_uploads[c].uploaded_files&&i.form.document_uploads[c].uploaded_files.splice(o,1)},z=c=>{const o=c.target;if(o.files&&o.files[0]){const t=o.files[0],l=2*1024*1024;if(t.size>l){g.value.brochure_file=["Brochure file size must be less than 2MB"],o.value="",i.form.brochure_file=null;return}g.value.brochure_file&&delete g.value.brochure_file,i.form.brochure_file=t}},U=(c,o)=>{const t=c.target,l=t.value,a=l.replace(/[^0-9]/g,"");if(o==="total_floor_for_parking"&&(parseInt(a)||0)>5){t.value="5",i.form[o]="5";return}l!==a&&(t.value=a,i.form[o]=a)};return(c,o)=>(n(),r("div",T,[e("div",H,[o[13]||(o[13]=e("h5",{class:"mb-3 section-title"},"Parking Details",-1)),e("div",L,[e("div",W,[e("div",X,[u(e("input",{id:"free_allotted_parking_four_wheeler","onUpdate:modelValue":o[0]||(o[0]=t=>d.form.free_allotted_parking_four_wheeler=t),type:"checkbox",class:"form-check-input"},null,512),[[k,d.form.free_allotted_parking_four_wheeler]]),o[9]||(o[9]=e("label",{for:"free_allotted_parking_four_wheeler",class:"form-check-label"}," Free Allotted Parking For Four Wheeler ",-1))])]),e("div",G,[e("div",J,[u(e("input",{id:"free_allotted_parking_two_wheeler","onUpdate:modelValue":o[1]||(o[1]=t=>d.form.free_allotted_parking_two_wheeler=t),type:"checkbox",class:"form-check-input"},null,512),[[k,d.form.free_allotted_parking_two_wheeler]]),o[10]||(o[10]=e("label",{for:"free_allotted_parking_two_wheeler",class:"form-check-label"}," Free Allotted Parking For Two Wheeler ",-1))])]),e("div",K,[e("div",Q,[u(e("input",{id:"available_for_purchase","onUpdate:modelValue":o[2]||(o[2]=t=>d.form.available_for_purchase=t),type:"checkbox",class:"form-check-input"},null,512),[[k,d.form.available_for_purchase]]),o[11]||(o[11]=e("label",{for:"available_for_purchase",class:"form-check-label"}," Available For Purchase ",-1))])])]),d.form.available_for_purchase?(n(),r("div",Y,[e("div",Z,[o[12]||(o[12]=e("label",{for:"no_of_parking",class:"form-label"},"No. Of Parking",-1)),u(e("input",{id:"no_of_parking","onUpdate:modelValue":o[3]||(o[3]=t=>d.form.no_of_parking=t),type:"number",step:"1",min:"0",class:f(["form-control form-control-sm",{"is-invalid":s.value.no_of_parking}]),placeholder:"Enter number of parking",onInput:o[4]||(o[4]=t=>U(t,"no_of_parking"))},null,34),[[b,d.form.no_of_parking]]),s.value.no_of_parking?(n(),r("div",x,_(s.value.no_of_parking[0]),1)):m("",!0)])])):m("",!0)]),e("div",I,[o[16]||(o[16]=e("h5",{class:"mb-3 section-title"},"Basement Parking",-1)),e("div",ee,[e("div",oe,[o[14]||(o[14]=e("label",{for:"total_floor_for_parking",class:"form-label"},"Total Floor For Parking",-1)),u(e("input",{id:"total_floor_for_parking","onUpdate:modelValue":o[5]||(o[5]=t=>d.form.total_floor_for_parking=t),type:"number",step:"1",min:"1",max:"5",class:f(["form-control form-control-sm",{"is-invalid":s.value.total_floor_for_parking}]),placeholder:"Enter total floors (max 5)",onInput:o[6]||(o[6]=t=>U(t,"total_floor_for_parking"))},null,34),[[b,d.form.total_floor_for_parking]]),s.value.total_floor_for_parking?(n(),r("div",te,_(s.value.total_floor_for_parking[0]),1)):m("",!0)])]),(n(!0),r(h,null,p(d.form.basement_parking,(t,l)=>(n(),r("div",{key:l,class:f(["row mb-3 pb-3",{"border-bottom":l<d.form.basement_parking.length-1}]),style:{"border-bottom":"1px solid #e5e7eb"}},[e("div",le,[e("label",{for:`floor_no_${l}`,class:"form-label"},"Floor No.",8,se),u(e("input",{id:`floor_no_${l}`,"onUpdate:modelValue":a=>t.floor_no=a,type:"text",class:f(["form-control form-control-sm",{"is-invalid":s.value[`basement_parking.${l}.floor_no`]}]),placeholder:`Floor ${l+1}`},null,10,ae),[[b,t.floor_no]]),s.value[`basement_parking.${l}.floor_no`]?(n(),r("div",ie,_(s.value[`basement_parking.${l}.floor_no`][0]),1)):m("",!0)]),e("div",re,[e("label",{for:`ev_charging_point_${l}`,class:"form-label"},"EV Charging Point",8,ne),u(e("input",{id:`ev_charging_point_${l}`,"onUpdate:modelValue":a=>t.ev_charging_point=a,type:"number",class:f(["form-control form-control-sm",{"is-invalid":s.value[`basement_parking.${l}.ev_charging_point`]}]),placeholder:"Enter number"},null,10,de),[[b,t.ev_charging_point]]),s.value[`basement_parking.${l}.ev_charging_point`]?(n(),r("div",me,_(s.value[`basement_parking.${l}.ev_charging_point`][0]),1)):m("",!0)]),e("div",_e,[e("label",{for:`hydraulic_parking_${l}`,class:"form-label"},"Hydraulic Parking",8,ce),u(e("input",{id:`hydraulic_parking_${l}`,"onUpdate:modelValue":a=>t.hydraulic_parking=a,type:"number",class:f(["form-control form-control-sm",{"is-invalid":s.value[`basement_parking.${l}.hydraulic_parking`]}]),placeholder:"Enter number"},null,10,ue),[[b,t.hydraulic_parking]]),s.value[`basement_parking.${l}.hydraulic_parking`]?(n(),r("div",fe,_(s.value[`basement_parking.${l}.hydraulic_parking`][0]),1)):m("",!0)]),e("div",be,[e("label",{for:`height_of_basement_${l}`,class:"form-label"},"Height Of Basement",8,he),e("div",pe,[u(e("input",{id:`height_of_basement_${l}`,"onUpdate:modelValue":a=>t.height_of_basement=a,type:"number",class:f(["form-control form-control-sm",{"is-invalid":s.value[`basement_parking.${l}.height_of_basement`]}]),placeholder:"Enter height",style:{border:"1px solid #1c467b"}},null,10,ve),[[b,t.height_of_basement]]),u(e("select",{id:`height_of_basement_unit_${l}`,"onUpdate:modelValue":a=>t.height_of_basement_unit_id=a,class:f(["form-select form-select-sm",{"is-invalid":s.value[`basement_parking.${l}.height_of_basement_unit_id`]}]),style:{border:"1px solid #1c467b"}},[o[15]||(o[15]=e("option",{value:""},"Select Unit",-1)),(n(!0),r(h,null,p(d.measurementUnits,a=>(n(),r("option",{key:a.id,value:String(a.id)},_(a.name),9,ke))),128))],10,ge),[[F,t.height_of_basement_unit_id]])]),s.value[`basement_parking.${l}.height_of_basement`]?(n(),r("div",ye,_(s.value[`basement_parking.${l}.height_of_basement`][0]),1)):m("",!0),s.value[`basement_parking.${l}.height_of_basement_unit_id`]?(n(),r("div",$e,_(s.value[`basement_parking.${l}.height_of_basement_unit_id`][0]),1)):m("",!0)])],2))),128))]),e("div",we,[o[17]||(o[17]=e("h5",{class:"mb-3 section-title"},"Amenities",-1)),e("div",Ue,[(n(!0),r(h,null,p(d.amenities,t=>(n(),r("div",{key:t.id,class:"col-md-3 mb-3"},[e("div",Fe,[u(e("input",{id:`amenity_${t.id}`,"onUpdate:modelValue":o[7]||(o[7]=l=>d.form.amenity_ids=l),type:"checkbox",value:String(t.id),class:"form-check-input"},null,8,Ve),[[k,d.form.amenity_ids]]),e("label",{for:`amenity_${t.id}`,class:"form-check-label"},_(t.name),9,Ce)])]))),128))]),s.value.amenity_ids?(n(),r("div",Pe,_(s.value.amenity_ids[0]),1)):m("",!0)]),e("div",Ae,[o[20]||(o[20]=e("h5",{class:"mb-3 section-title"},"Images/Documents",-1)),(n(!0),r(h,null,p(d.form.document_uploads,(t,l)=>(n(),r("div",{key:t.id,class:f(["mb-4 pb-3",{"border-bottom":l<d.form.document_uploads.length-1}]),style:{"border-bottom":"1px solid #e5e7eb"}},[e("div",Be,[e("div",Ee,[e("label",{for:`doc_category_${t.id}`,class:"form-label"},"Category",8,De),u(e("select",{id:`doc_category_${t.id}`,"onUpdate:modelValue":a=>t.category=a,class:f(["form-select form-select-sm",{"is-invalid":s.value[`document_uploads.${l}.category`]}]),style:{height:"38px"}},[o[18]||(o[18]=e("option",{value:""},"Select Category",-1)),(n(),r(h,null,p(V,a=>e("option",{key:a.value,value:a.value},_(a.label),9,Se)),64))],10,ze),[[F,t.category]]),s.value[`document_uploads.${l}.category`]?(n(),r("div",Me,_(s.value[`document_uploads.${l}.category`][0]),1)):m("",!0)]),e("div",Ne,[e("label",{for:`doc_files_${t.id}`,class:"form-label"},"Files",8,Oe),e("input",{id:`doc_files_${t.id}`,type:"file",class:f(["form-control form-control-sm",{"is-invalid":s.value[`document_uploads.${l}.files`]}]),style:{height:"38px"},multiple:"",onChange:a=>B(a,l)},null,42,je),s.value[`document_uploads.${l}.files`]?(n(),r("div",qe,_(s.value[`document_uploads.${l}.files`][0]),1)):m("",!0),t.files&&t.files.length>0?(n(),r("div",Re,[(n(!0),r(h,null,p(t.files,(a,v)=>(n(),r("div",{key:v,class:"d-flex align-items-center justify-content-between mb-1 p-2 rounded",style:{"background-color":"#1c467b",color:"white"}},[e("span",Te,_(a.name),1),e("button",{type:"button",onClick:S=>E(l,v),class:"btn btn-remove-square"},[y($(w),{size:14,color:"white"})],8,He)]))),128))])):m("",!0),t.uploaded_files&&t.uploaded_files.length>0?(n(),r("div",Le,[(n(!0),r(h,null,p(t.uploaded_files,(a,v)=>(n(),r("div",{key:v,class:"d-flex align-items-center justify-content-between mb-1 p-2 rounded",style:{"background-color":"#1c467b",color:"white"}},[e("span",We,_(a.name),1),e("button",{type:"button",onClick:S=>D(l,v),class:"btn btn-remove-square"},[y($(w),{size:14,color:"white"})],8,Xe)]))),128))])):m("",!0)]),e("div",Ge,[o[19]||(o[19]=e("label",{class:"form-label hidden-label"},"Action",-1)),e("div",Je,[l===0?(n(),r("button",{key:0,type:"button",onClick:P,class:"btn btn-primary btn-sm d-flex align-items-center justify-content-center",style:{"min-width":"40px",height:"38px",padding:"0 12px"},title:"Add Document Upload"},[y($(R),{size:18,color:"white"})])):m("",!0),l>0?(n(),r("button",{key:1,type:"button",onClick:a=>A(t.id),class:"btn btn-sm d-flex align-items-center justify-content-center",style:{"min-width":"40px",height:"38px",padding:"0 12px","background-color":"#fa8b0c",border:"none"},title:"Remove Document Upload"},[y($(w),{size:18,color:"white"})],8,Ke)):m("",!0)])])])],2))),128))]),e("div",Qe,[o[22]||(o[22]=e("h5",{class:"mb-3 section-title"},"Brochure File",-1)),e("div",Ye,[e("div",Ze,[o[21]||(o[21]=e("label",{for:"brochure_file",class:"form-label"},"Brochure File (Max 2MB)",-1)),e("input",{id:"brochure_file",type:"file",class:f(["form-control form-control-sm",{"is-invalid":s.value.brochure_file}]),accept:".pdf,.doc,.docx",onChange:z},null,34),s.value.brochure_file?(n(),r("div",xe,_(s.value.brochure_file[0]),1)):m("",!0),d.form.brochure_file?(n(),r("div",Ie," Selected: "+_(d.form.brochure_file.name),1)):m("",!0)])])]),e("div",eo,[o[24]||(o[24]=e("h5",{class:"mb-3 section-title"},"Enter Remark",-1)),e("div",oo,[e("div",to,[o[23]||(o[23]=e("label",{for:"remark",class:"form-label"},"Remark",-1)),u(e("textarea",{id:"remark","onUpdate:modelValue":o[8]||(o[8]=t=>d.form.remark=t),class:f(["form-control form-control-sm",{"is-invalid":s.value.remark}]),rows:"3",placeholder:"Enter any remarks or notes"},null,2),[[b,d.form.remark]]),s.value.remark?(n(),r("div",lo,_(s.value.remark[0]),1)):m("",!0)])])])]))}}),mo=q(so,[["__scopeId","data-v-a933e37e"]]);export{mo as default};
