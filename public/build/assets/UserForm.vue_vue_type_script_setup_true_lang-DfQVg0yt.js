import{d as U,f as k,g as w,J as y,N as V,c as i,b as s,k as d,i as m,v as c,n as f,t as a,p as g,F as z,m as h,H as E,s as C,e as l}from"./app-0JMNLgL9.js";const N={class:"row"},q={class:"col-md-6 mb-2"},B={class:"form-group"},F={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},M={class:"col-md-6 mb-2"},D={class:"form-group"},L={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},T={class:"col-md-6 mb-2"},$={class:"form-group"},A={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},H={class:"col-md-6 mb-2"},J={class:"form-group"},P={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},j={class:"col-md-6 mb-2"},p={class:"form-group"},G={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},K={class:"col-md-6 mb-2"},O={class:"form-group"},Q={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},R={class:"col-md-6 mb-2"},S={class:"form-group"},W={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},X={class:"col-md-6 mb-2"},Y={class:"form-group"},Z={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},I={class:"col-md-6 mb-2"},_={class:"form-group"},ee={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},te={class:"col-md-6 mb-2"},se={class:"form-group"},oe=["placeholder","required"],ie={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},le={class:"col-md-6 mb-2"},re={class:"form-group"},ae=["value"],ne={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},de={class:"col-md-6 mb-2"},me={class:"form-group"},fe=["disabled"],ce=["value"],ue={key:0,class:"form-text",style:{"font-size":"12px"}},ve={key:1,class:"invalid-feedback",style:{"font-size":"12px"}},be={class:"col-md-6 mb-2"},ye={class:"form-group"},xe={class:"form-check mt-2"},ze=U({__name:"UserForm",props:{form:{},states:{},editingUser:{},errors:{}},emits:["submit","cancel"],setup(t,{emit:ke}){const n=t,u=k([]),v=k(!1),x=w({get:()=>n.form.birth_date?typeof n.form.birth_date=="string"&&n.form.birth_date.match(/^\d{4}-\d{2}-\d{2}$/)?n.form.birth_date:typeof n.form.birth_date=="string"?n.form.birth_date.split("T")[0]:"":"",set:r=>{n.form.birth_date=r}}),b=async r=>{if(r){v.value=!0;try{const e=await C.get(`/states/${r}/cities`);u.value=e.data}catch(e){console.error("Error loading cities:",e),u.value=[]}finally{v.value=!1}}};return y(()=>n.editingUser,async r=>{r&&r.state_id&&await b(r.state_id)},{immediate:!0}),y([u,()=>n.editingUser],async([r,e])=>{r.length>0&&e&&e.city_id&&!n.form.city_id&&(await V(),n.form.city_id=e.city_id)},{immediate:!0}),y(()=>n.form.state_id,async(r,e)=>{r?r!==e&&e!==void 0&&e!==null&&e!==""?(await b(r),n.form.city_id=""):u.value.length||await b(r):(u.value=[],n.form.city_id="")},{immediate:!0}),(r,e)=>(l(),i("div",null,[s("div",N,[s("div",q,[s("div",B,[e[15]||(e[15]=s("label",{for:"name",class:"form-label mb-1",style:{"font-size":"14px"}},"Full Name",-1)),d(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>t.form.name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.name}]),placeholder:"Enter full name",required:""},null,2),[[c,t.form.name]]),t.errors.name?(l(),i("div",F,a(t.errors.name[0]),1)):m("",!0)])]),s("div",M,[s("div",D,[e[16]||(e[16]=s("label",{for:"username",class:"form-label mb-1",style:{"font-size":"14px"}},"Username",-1)),d(s("input",{id:"username","onUpdate:modelValue":e[1]||(e[1]=o=>t.form.username=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.username}]),placeholder:"Enter username",required:""},null,2),[[c,t.form.username]]),t.errors.username?(l(),i("div",L,a(t.errors.username[0]),1)):m("",!0)])]),s("div",T,[s("div",$,[e[17]||(e[17]=s("label",{for:"first_name",class:"form-label mb-1",style:{"font-size":"14px"}},"First Name",-1)),d(s("input",{id:"first_name","onUpdate:modelValue":e[2]||(e[2]=o=>t.form.first_name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.first_name}]),placeholder:"Enter first name",required:""},null,2),[[c,t.form.first_name]]),t.errors.first_name?(l(),i("div",A,a(t.errors.first_name[0]),1)):m("",!0)])]),s("div",H,[s("div",J,[e[18]||(e[18]=s("label",{for:"last_name",class:"form-label mb-1",style:{"font-size":"14px"}},"Last Name",-1)),d(s("input",{id:"last_name","onUpdate:modelValue":e[3]||(e[3]=o=>t.form.last_name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.last_name}]),placeholder:"Enter last name",required:""},null,2),[[c,t.form.last_name]]),t.errors.last_name?(l(),i("div",P,a(t.errors.last_name[0]),1)):m("",!0)])]),s("div",j,[s("div",p,[e[19]||(e[19]=s("label",{for:"middle_name",class:"form-label mb-1",style:{"font-size":"14px"}},"Middle Name",-1)),d(s("input",{id:"middle_name","onUpdate:modelValue":e[4]||(e[4]=o=>t.form.middle_name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.middle_name}]),placeholder:"Enter middle name (optional)"},null,2),[[c,t.form.middle_name]]),t.errors.middle_name?(l(),i("div",G,a(t.errors.middle_name[0]),1)):m("",!0)])]),s("div",K,[s("div",O,[e[20]||(e[20]=s("label",{for:"email",class:"form-label mb-1",style:{"font-size":"14px"}},"Email",-1)),d(s("input",{id:"email","onUpdate:modelValue":e[5]||(e[5]=o=>t.form.email=o),type:"email",class:f(["form-control form-control-sm",{"is-invalid":t.errors.email}]),placeholder:"Enter email",onInput:e[6]||(e[6]=o=>t.form.email=o.target.value.toLowerCase()),required:""},null,34),[[c,t.form.email]]),t.errors.email?(l(),i("div",Q,a(t.errors.email[0]),1)):m("",!0)])]),s("div",R,[s("div",S,[e[21]||(e[21]=s("label",{for:"mobile",class:"form-label mb-1",style:{"font-size":"14px"}},"Mobile",-1)),d(s("input",{id:"mobile","onUpdate:modelValue":e[7]||(e[7]=o=>t.form.mobile=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.mobile}]),placeholder:"Enter mobile number (optional)"},null,2),[[c,t.form.mobile]]),t.errors.mobile?(l(),i("div",W,a(t.errors.mobile[0]),1)):m("",!0)])]),s("div",X,[s("div",Y,[e[22]||(e[22]=s("label",{for:"company_name",class:"form-label mb-1",style:{"font-size":"14px"}},"Company Name",-1)),d(s("input",{id:"company_name","onUpdate:modelValue":e[8]||(e[8]=o=>t.form.company_name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.company_name}]),placeholder:"Enter company name (optional)"},null,2),[[c,t.form.company_name]]),t.errors.company_name?(l(),i("div",Z,a(t.errors.company_name[0]),1)):m("",!0)])]),s("div",I,[s("div",_,[e[23]||(e[23]=s("label",{for:"birth_date",class:"form-label mb-1",style:{"font-size":"14px"}},"Birth Date",-1)),d(s("input",{id:"birth_date","onUpdate:modelValue":e[9]||(e[9]=o=>x.value=o),type:"date",class:f(["form-control form-control-sm",{"is-invalid":t.errors.birth_date}])},null,2),[[c,x.value]]),t.errors.birth_date?(l(),i("div",ee,a(t.errors.birth_date[0]),1)):m("",!0)])]),s("div",te,[s("div",se,[e[24]||(e[24]=s("label",{for:"password",class:"form-label mb-1",style:{"font-size":"14px"}}," Password ",-1)),d(s("input",{id:"password","onUpdate:modelValue":e[10]||(e[10]=o=>t.form.password=o),type:"password",class:f(["form-control form-control-sm",{"is-invalid":t.errors.password}]),placeholder:t.editingUser?"Enter new password (optional)":"Enter password",required:!t.editingUser},null,10,oe),[[c,t.form.password]]),t.errors.password?(l(),i("div",ie,a(t.errors.password[0]),1)):m("",!0)])]),s("div",le,[s("div",re,[e[26]||(e[26]=s("label",{for:"state_id",class:"form-label mb-1",style:{"font-size":"14px"}},"State",-1)),d(s("select",{id:"state_id","onUpdate:modelValue":e[11]||(e[11]=o=>t.form.state_id=o),class:f(["form-control form-control-sm",{"is-invalid":t.errors.state_id}]),onChange:e[12]||(e[12]=o=>t.form.city_id="")},[e[25]||(e[25]=s("option",{value:""},"Select a state",-1)),(l(!0),i(z,null,h(t.states,o=>(l(),i("option",{key:o.id,value:o.id},a(o.name)+" ("+a(o.code)+") ",9,ae))),128))],34),[[g,t.form.state_id]]),t.errors.state_id?(l(),i("div",ne,a(t.errors.state_id[0]),1)):m("",!0)])]),s("div",de,[s("div",me,[e[28]||(e[28]=s("label",{for:"city_id",class:"form-label mb-1",style:{"font-size":"14px"}},"City",-1)),d(s("select",{id:"city_id","onUpdate:modelValue":e[13]||(e[13]=o=>t.form.city_id=o),class:f(["form-control form-control-sm",{"is-invalid":t.errors.city_id}]),disabled:!t.form.state_id||v.value},[e[27]||(e[27]=s("option",{value:""},"Select a city",-1)),(l(!0),i(z,null,h(u.value,o=>(l(),i("option",{key:o.id,value:o.id},a(o.name),9,ce))),128))],10,fe),[[g,t.form.city_id]]),v.value?(l(),i("div",ue,"Loading cities...")):m("",!0),t.errors.city_id?(l(),i("div",ve,a(t.errors.city_id[0]),1)):m("",!0)])]),s("div",be,[s("div",ye,[e[30]||(e[30]=s("label",{class:"form-label mb-1",style:{"font-size":"14px"}},"Status",-1)),s("div",xe,[d(s("input",{id:"is_active","onUpdate:modelValue":e[14]||(e[14]=o=>t.form.is_active=o),type:"checkbox",class:"form-check-input",style:{width:"16px",height:"16px"}},null,512),[[E,t.form.is_active]]),e[29]||(e[29]=s("label",{for:"is_active",class:"form-check-label ms-2",style:{"font-size":"14px"}}," Active ",-1))])])])])]))}});export{ze as _};
