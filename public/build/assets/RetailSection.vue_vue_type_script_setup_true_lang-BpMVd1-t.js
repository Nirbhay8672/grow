import{d as C,g as p,r as w,c as a,b as i,i as c,F as g,p as b,m as f,t as d,k as u,v,q as h,n as F,e as s}from"./app-BqoACYlz.js";const D={class:"mb-4",style:{"border-top":"1px solid #e5e7eb","padding-top":"1rem"}},R={class:"mb-3"},N={key:0,class:"d-flex flex-wrap gap-2"},E=["onClick"],M={key:1,class:"text-muted"},T={key:0},A={class:"mt-4"},B={key:0},I={class:"mb-3"},L={href:"javascript:void(0)",class:"text-primary text-decoration-none",style:{"font-weight":"500"}},q={class:"row"},H={class:"col-md-6 mb-3"},j=["onUpdate:modelValue"],P={key:0,class:"invalid-feedback d-block"},W={class:"col-md-6 mb-3"},G=["onUpdate:modelValue"],J=["value"],K={key:0,class:"invalid-feedback d-block"},Q={class:"row"},X={class:"col-md-6 mb-3"},Y={class:"input-group input-group-sm"},Z=["onUpdate:modelValue"],O=["onUpdate:modelValue"],x=["onUpdate:modelValue"],ee=["value"],te={key:0,class:"invalid-feedback d-block"},ie={key:1,class:"invalid-feedback d-block"},le={key:2,class:"invalid-feedback d-block"},oe={class:"col-md-4 mb-3"},re={class:"input-group input-group-sm"},ae=["onUpdate:modelValue"],se=["onUpdate:modelValue"],ne=["value"],_e={key:0,class:"invalid-feedback d-block"},de={key:1,class:"invalid-feedback d-block"},ce={class:"col-md-4 mb-3"},fe=["onUpdate:modelValue"],ue={key:0,class:"invalid-feedback d-block"},me={class:"col-md-4 mb-3"},ge={class:"input-group input-group-sm"},be=["onUpdate:modelValue"],ve=["onUpdate:modelValue"],he=["value"],ye={key:0,class:"invalid-feedback d-block"},pe={key:1,class:"invalid-feedback d-block"},ke={key:1,class:"text-muted mt-3"},$e=C({__name:"RetailSection",props:{form:{},errors:{},measurementUnits:{},retailSubCategories:{}},setup(r){const n=r,y=p(()=>n.measurementUnits.filter(_=>_.name==="Ft."||_.name==="Mt.")),k=p(()=>n.measurementUnits.filter(_=>_.name!=="Ft."&&_.name!=="Mt."));(()=>{(!n.form.office_retail_retail_unit_details||n.form.office_retail_retail_unit_details.length===0)&&(n.form.office_retail_retail_unit_details=[])})();const S=_=>{if(!_)return"";const e=n.retailSubCategories.find(t=>String(t.id)===String(_));return e?e.name.toUpperCase():""},m=w([]);if(n.form.office_retail_retail_unit_details&&n.form.office_retail_retail_unit_details.length>0){const _=n.form.office_retail_retail_unit_details.map(e=>e.sub_category_id?String(e.sub_category_id):null).filter(e=>e!==null);m.value=[...new Set(_)]}const U=()=>{n.form.office_retail_retail_unit_details||(n.form.office_retail_retail_unit_details=[]);const e=(n.form.office_retail_retail_unit_details||[]).map(t=>String(t.sub_category_id));m.value.forEach(t=>{e.includes(String(t))||n.form.office_retail_retail_unit_details.push({id:Date.now()+Math.random(),tower_name:"",sub_category_id:t,size_from:"",size_to:"",size_unit_id:"",front_opening:"",front_opening_unit_id:"",no_of_unit_each_floor:"",ceiling_height:"",ceiling_height_unit_id:""})}),n.form.office_retail_retail_unit_details=n.form.office_retail_retail_unit_details.filter(t=>m.value.includes(String(t.sub_category_id)))},$=_=>{const e=_.target,t=e.value,o=t.replace(/[^0-9]/g,"");t!==o&&(e.value=o)},z=_=>{const e=m.value.indexOf(_);e>-1?m.value.splice(e,1):m.value.push(_),n.form.office_retail_retail_unit_details||(n.form.office_retail_retail_unit_details=[]);const o=(Array.isArray(n.form.sub_category_id)?[...n.form.sub_category_id]:n.form.sub_category_id?[n.form.sub_category_id]:[]).filter(l=>!n.retailSubCategories.some(V=>String(V.id)===String(l)));n.form.sub_category_id=[...o,...m.value],F(()=>{U()})};return(_,e)=>(s(),a("div",null,[i("div",D,[e[12]||(e[12]=i("h5",{class:"mb-3 section-title",style:{"background-color":"orange",color:"#1c467b",padding:"8px 12px","border-radius":"4px",width:"100%","font-weight":"bold"}},"RETAIL",-1)),i("div",R,[e[0]||(e[0]=i("label",{class:"form-label mb-2"},"Sub Category",-1)),n.retailSubCategories&&n.retailSubCategories.length>0?(s(),a("div",N,[(s(!0),a(g,null,b(n.retailSubCategories,t=>(s(),a("button",{key:t.id,type:"button",class:f(["btn btn-sm",m.value.includes(String(t.id))?"btn-primary":"btn-outline-primary"]),onClick:o=>z(String(t.id)),style:{"border-color":"#1c467b","border-radius":"20px",height:"30px"}},d(t.name.toUpperCase()),11,E))),128))])):(s(),a("div",M," No Retail sub-categories available "))]),m.value.length>0?(s(),a("div",T,[i("div",A,[e[11]||(e[11]=i("h6",{class:"mb-3",style:{color:"#1c467b","font-weight":"600"}},"Unit Details",-1)),r.form.office_retail_retail_unit_details&&r.form.office_retail_retail_unit_details.length>0?(s(),a("div",B,[(s(!0),a(g,null,b(r.form.office_retail_retail_unit_details,(t,o)=>(s(),a("div",{key:t.id,class:"mb-4 pb-3",style:{"border-bottom":"1px solid #e5e7eb"}},[i("div",I,[i("a",L,d(S(t.sub_category_id))+" Details ",1)]),i("div",q,[i("div",H,[e[1]||(e[1]=i("label",{class:"form-label"},"Tower Name",-1)),u(i("input",{"onUpdate:modelValue":l=>t.tower_name=l,type:"text",class:f(["form-control form-control-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.tower_name`]}]),placeholder:"Tower Name"},null,10,j),[[v,t.tower_name]]),r.errors[`office_retail_retail_unit_details.${o}.tower_name`]?(s(),a("div",P,d(r.errors[`office_retail_retail_unit_details.${o}.tower_name`][0]),1)):c("",!0)]),i("div",W,[e[3]||(e[3]=i("label",{class:"form-label"},"Sub Category",-1)),u(i("select",{"onUpdate:modelValue":l=>t.sub_category_id=l,class:f(["form-select form-select-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.sub_category_id`]}]),disabled:""},[e[2]||(e[2]=i("option",{value:""},"Sub Category",-1)),(s(!0),a(g,null,b(n.retailSubCategories,l=>(s(),a("option",{key:l.id,value:String(l.id)},d(l.name),9,J))),128))],10,G),[[h,t.sub_category_id]]),r.errors[`office_retail_retail_unit_details.${o}.sub_category_id`]?(s(),a("div",K,d(r.errors[`office_retail_retail_unit_details.${o}.sub_category_id`][0]),1)):c("",!0)])]),i("div",Q,[i("div",X,[e[5]||(e[5]=i("label",{class:"form-label"},"Size",-1)),i("div",Y,[u(i("input",{"onUpdate:modelValue":l=>t.size_from=l,type:"number",step:"0.01",min:"0",class:f(["form-control form-control-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.size_from`]}]),placeholder:"Size",style:{border:"1px solid #1c467b"}},null,10,Z),[[v,t.size_from]]),u(i("input",{"onUpdate:modelValue":l=>t.size_to=l,type:"number",step:"0.01",min:"0",class:f(["form-control form-control-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.size_to`]}]),placeholder:"Size",style:{border:"1px solid #1c467b","border-left":"0"}},null,10,O),[[v,t.size_to]]),u(i("select",{"onUpdate:modelValue":l=>t.size_unit_id=l,class:f(["form-select form-select-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.size_unit_id`]}]),style:{border:"1px solid #1c467b","border-left":"0"}},[e[4]||(e[4]=i("option",{value:""},"SqFt",-1)),(s(!0),a(g,null,b(k.value,l=>(s(),a("option",{key:l.id,value:String(l.id)},d(l.name),9,ee))),128))],10,x),[[h,t.size_unit_id]])]),r.errors[`office_retail_retail_unit_details.${o}.size_from`]?(s(),a("div",te,d(r.errors[`office_retail_retail_unit_details.${o}.size_from`][0]),1)):c("",!0),r.errors[`office_retail_retail_unit_details.${o}.size_to`]?(s(),a("div",ie,d(r.errors[`office_retail_retail_unit_details.${o}.size_to`][0]),1)):c("",!0),r.errors[`office_retail_retail_unit_details.${o}.size_unit_id`]?(s(),a("div",le,d(r.errors[`office_retail_retail_unit_details.${o}.size_unit_id`][0]),1)):c("",!0)]),i("div",oe,[e[7]||(e[7]=i("label",{class:"form-label"},"Front Opening",-1)),i("div",re,[u(i("input",{"onUpdate:modelValue":l=>t.front_opening=l,type:"number",step:"0.01",min:"0",class:f(["form-control form-control-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.front_opening`]}]),placeholder:"Front Opening",style:{border:"1px solid #1c467b"}},null,10,ae),[[v,t.front_opening]]),u(i("select",{"onUpdate:modelValue":l=>t.front_opening_unit_id=l,class:f(["form-select form-select-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.front_opening_unit_id`]}]),style:{border:"1px solid #1c467b","border-left":"0"}},[e[6]||(e[6]=i("option",{value:""},"Ft.",-1)),(s(!0),a(g,null,b(y.value,l=>(s(),a("option",{key:l.id,value:String(l.id)},d(l.name),9,ne))),128))],10,se),[[h,t.front_opening_unit_id]])]),r.errors[`office_retail_retail_unit_details.${o}.front_opening`]?(s(),a("div",_e,d(r.errors[`office_retail_retail_unit_details.${o}.front_opening`][0]),1)):c("",!0),r.errors[`office_retail_retail_unit_details.${o}.front_opening_unit_id`]?(s(),a("div",de,d(r.errors[`office_retail_retail_unit_details.${o}.front_opening_unit_id`][0]),1)):c("",!0)]),i("div",ce,[e[8]||(e[8]=i("label",{class:"form-label"},"No. Of Unit Each Floor",-1)),u(i("input",{"onUpdate:modelValue":l=>t.no_of_unit_each_floor=l,type:"number",step:"1",min:"0",class:f(["form-control form-control-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.no_of_unit_each_floor`]}]),placeholder:"No. Of Unit Each Floor",onInput:$},null,42,fe),[[v,t.no_of_unit_each_floor]]),r.errors[`office_retail_retail_unit_details.${o}.no_of_unit_each_floor`]?(s(),a("div",ue,d(r.errors[`office_retail_retail_unit_details.${o}.no_of_unit_each_floor`][0]),1)):c("",!0)]),i("div",me,[e[10]||(e[10]=i("label",{class:"form-label"},"Ceiling Height",-1)),i("div",ge,[u(i("input",{"onUpdate:modelValue":l=>t.ceiling_height=l,type:"number",step:"0.01",min:"0",class:f(["form-control form-control-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.ceiling_height`]}]),placeholder:"Ceiling Height",style:{border:"1px solid #1c467b"}},null,10,be),[[v,t.ceiling_height]]),u(i("select",{"onUpdate:modelValue":l=>t.ceiling_height_unit_id=l,class:f(["form-select form-select-sm",{"is-invalid":r.errors[`office_retail_retail_unit_details.${o}.ceiling_height_unit_id`]}]),style:{border:"1px solid #1c467b","border-left":"0"}},[e[9]||(e[9]=i("option",{value:""},"Ft.",-1)),(s(!0),a(g,null,b(y.value,l=>(s(),a("option",{key:l.id,value:String(l.id)},d(l.name),9,he))),128))],10,ve),[[h,t.ceiling_height_unit_id]])]),r.errors[`office_retail_retail_unit_details.${o}.ceiling_height`]?(s(),a("div",ye,d(r.errors[`office_retail_retail_unit_details.${o}.ceiling_height`][0]),1)):c("",!0),r.errors[`office_retail_retail_unit_details.${o}.ceiling_height_unit_id`]?(s(),a("div",pe,d(r.errors[`office_retail_retail_unit_details.${o}.ceiling_height_unit_id`][0]),1)):c("",!0)])])]))),128))])):(s(),a("div",ke," Loading unit details... "))])])):c("",!0)])]))}});export{$e as _};
