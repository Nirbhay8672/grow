import{d as x,r as y,O as k,c as i,b as s,i as n,F as _,p as h,t as c,m as f,A as g,e as o}from"./app-EEW5rfl7.js";const C={class:"choise-selection-container"},$={class:"mb-4"},w={class:"form-group"},N={class:"d-flex flex-wrap gap-3"},I=["id","checked","onChange","value"],B=["for"],D={key:0},F={key:0,class:"invalid-feedback d-block"},L={key:0,class:"mb-4"},z={key:0,class:"text-muted mb-3"},A={key:1,class:"form-group"},E={class:"d-flex flex-wrap gap-3"},O=["id","checked","onChange","value"],P=["for"],j={key:0},q={key:0,class:"invalid-feedback d-block"},G={key:2,class:"text-muted mb-3"},H={key:1,class:"mb-4"},J={class:"form-group"},K={class:"d-flex flex-wrap gap-3"},M=["id","checked","onChange","value"],Q=["for"],R={key:0},U={key:0,class:"invalid-feedback d-block"},X=x({__name:"ChoiseSelection",props:{constructionTypes:{},modelValue:{},errors:{default:()=>({})},showIds:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:b}){const l=t,r=b,u=y([]),m=y([]);k(()=>l.modelValue.construction_type_id,a=>{if(a){const d=l.constructionTypes.find(e=>e.id===Number(a));d&&d.categories?u.value=d.categories:u.value=[],r("update:modelValue",{...l.modelValue,category_id:"",sub_category_id:""}),m.value=[]}else u.value=[],r("update:modelValue",{...l.modelValue,category_id:"",sub_category_id:""}),m.value=[]},{immediate:!1}),k(()=>l.modelValue.category_id,a=>{if(a){const d=u.value.find(e=>e.id===Number(a));d&&d.sub_categories?m.value=d.sub_categories:m.value=[],r("update:modelValue",{...l.modelValue,sub_category_id:""})}else m.value=[],r("update:modelValue",{...l.modelValue,sub_category_id:""})},{immediate:!1});const V=a=>{r("update:modelValue",{...l.modelValue,construction_type_id:a})},p=a=>{r("update:modelValue",{...l.modelValue,category_id:a})},S=a=>{r("update:modelValue",{...l.modelValue,sub_category_id:a})};return(a,d)=>(o(),i("div",C,[s("div",$,[d[0]||(d[0]=s("h5",{class:"mb-3 section-title"},"Property Type",-1)),s("div",w,[s("div",N,[(o(!0),i(_,null,h(t.constructionTypes,e=>(o(),i("div",{key:e.id,class:"form-check form-check-inline construction-type-radio"},[s("input",{id:`construction_type_${e.id}`,checked:t.modelValue.construction_type_id===String(e.id),onChange:v=>V(String(e.id)),type:"radio",value:String(e.id),class:f(["form-check-input",{"is-invalid":t.errors.construction_type_id}])},null,42,I),s("label",{for:`construction_type_${e.id}`,class:"form-check-label construction-type-label"},[g(c(e.name)+" ",1),t.showIds?(o(),i("span",D,"(ID: "+c(e.id)+")",1)):n("",!0)],8,B)]))),128))]),t.errors.construction_type_id?(o(),i("div",F,c(t.errors.construction_type_id[0]),1)):n("",!0)])]),t.modelValue.construction_type_id?(o(),i("div",L,[d[1]||(d[1]=s("h5",{class:"mb-3 section-title"},"Category",-1)),u.value.length===0?(o(),i("div",z," Loading categories... ")):u.value.length>0?(o(),i("div",A,[s("div",E,[(o(!0),i(_,null,h(u.value,e=>(o(),i("div",{key:e.id,class:"form-check form-check-inline construction-type-radio"},[s("input",{id:`category_${e.id}`,checked:t.modelValue.category_id===String(e.id),onChange:v=>p(String(e.id)),type:"radio",value:String(e.id),class:f(["form-check-input",{"is-invalid":t.errors.category_id}])},null,42,O),s("label",{for:`category_${e.id}`,class:"form-check-label construction-type-label"},[g(c(e.name)+" ",1),t.showIds?(o(),i("span",j,"(ID: "+c(e.id)+")",1)):n("",!0)],8,P)]))),128))]),t.errors.category_id?(o(),i("div",q,c(t.errors.category_id[0]),1)):n("",!0)])):(o(),i("div",G," No categories found for this construction type. "))])):n("",!0),t.modelValue.category_id&&m.value.length>0?(o(),i("div",H,[d[2]||(d[2]=s("h5",{class:"mb-3 section-title"},"Sub Category",-1)),s("div",J,[s("div",K,[(o(!0),i(_,null,h(m.value,e=>(o(),i("div",{key:e.id,class:"form-check form-check-inline construction-type-radio"},[s("input",{id:`sub_category_${e.id}`,checked:t.modelValue.sub_category_id===String(e.id),onChange:v=>S(String(e.id)),type:"radio",value:String(e.id),class:f(["form-check-input",{"is-invalid":t.errors.sub_category_id}])},null,42,M),s("label",{for:`sub_category_${e.id}`,class:"form-check-label construction-type-label"},[g(c(e.name)+" ",1),t.showIds?(o(),i("span",R,"(ID: "+c(e.id)+")",1)):n("",!0)],8,Q)]))),128))]),t.errors.sub_category_id?(o(),i("div",U,c(t.errors.sub_category_id[0]),1)):n("",!0)])])):n("",!0)]))}});export{X as _};
