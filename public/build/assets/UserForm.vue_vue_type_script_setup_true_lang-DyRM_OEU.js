import{d as w,r as k,g as V,O as x,n as E,c as i,b as s,k as m,i as d,A as u,v as c,m as f,t as a,q as z,F as h,p as U,B as q,s as C,e as l}from"./app-Btitcj9w.js";const N={class:"row"},p={class:"col-md-4 mb-2"},B={class:"form-group"},F={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},M={class:"col-md-4 mb-2"},D={class:"form-group"},L={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},T={class:"col-md-4 mb-2"},$={class:"form-group"},A={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},O={class:"col-md-4 mb-2"},P={class:"form-group"},j={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},G={class:"col-md-4 mb-2"},H={class:"form-group"},J={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},K={class:"col-md-4 mb-2"},Q={class:"form-group"},R={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},S={class:"col-md-4 mb-2"},W={class:"form-group"},X={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},Y={class:"col-md-4 mb-2"},Z={class:"form-group"},I={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},_={class:"col-md-4 mb-2"},ee={class:"form-group"},te={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},se={class:"col-md-4 mb-2"},oe={class:"form-group"},ie={for:"password",class:"form-label mb-1",style:{"font-size":"14px"}},le={key:0,class:"text-danger"},re=["placeholder","required"],ae={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},ne={class:"col-md-4 mb-2"},de={class:"form-group"},me=["value"],fe={key:0,class:"invalid-feedback",style:{"font-size":"12px"}},ce={class:"col-md-4 mb-2"},ue={class:"form-group"},ve=["disabled"],be=["value"],ye={key:0,class:"form-text",style:{"font-size":"12px"}},xe={key:1,class:"invalid-feedback",style:{"font-size":"12px"}},ge={class:"col-md-4 mb-2"},ke={class:"form-group"},ze={class:"form-check mt-2"},we=w({__name:"UserForm",props:{form:{},states:{},editingUser:{},errors:{}},emits:["submit","cancel"],setup(t,{emit:he}){const n=t,v=k([]),b=k(!1),g=V({get:()=>n.form.birth_date?typeof n.form.birth_date=="string"&&n.form.birth_date.match(/^\d{4}-\d{2}-\d{2}$/)?n.form.birth_date:typeof n.form.birth_date=="string"?n.form.birth_date.split("T")[0]:"":"",set:r=>{n.form.birth_date=r}}),y=async r=>{if(r){b.value=!0;try{const e=await C.get(`/states/${r}/cities`);v.value=e.data}catch(e){console.error("Error loading cities:",e),v.value=[]}finally{b.value=!1}}};return x(()=>n.editingUser,async r=>{r&&r.state_id&&await y(r.state_id)},{immediate:!0}),x([v,()=>n.editingUser],async([r,e])=>{r.length>0&&e&&e.city_id&&!n.form.city_id&&(await E(),n.form.city_id=e.city_id)},{immediate:!0}),x(()=>n.form.state_id,async(r,e)=>{r?r!==e&&e!==void 0&&e!==null&&e!==""?(await y(r),n.form.city_id=""):v.value.length||await y(r):(v.value=[],n.form.city_id="")},{immediate:!0}),(r,e)=>(l(),i("div",null,[s("div",N,[s("div",p,[s("div",B,[e[15]||(e[15]=s("label",{for:"name",class:"form-label mb-1",style:{"font-size":"14px"}},[u("Full Name "),s("span",{class:"text-danger"},"*")],-1)),m(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>t.form.name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.name}]),placeholder:"Enter full name",required:""},null,2),[[c,t.form.name]]),t.errors.name?(l(),i("div",F,a(t.errors.name[0]),1)):d("",!0)])]),s("div",M,[s("div",D,[e[16]||(e[16]=s("label",{for:"username",class:"form-label mb-1",style:{"font-size":"14px"}},[u("Username "),s("span",{class:"text-danger"},"*")],-1)),m(s("input",{id:"username","onUpdate:modelValue":e[1]||(e[1]=o=>t.form.username=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.username}]),placeholder:"Enter username",required:""},null,2),[[c,t.form.username]]),t.errors.username?(l(),i("div",L,a(t.errors.username[0]),1)):d("",!0)])]),s("div",T,[s("div",$,[e[17]||(e[17]=s("label",{for:"first_name",class:"form-label mb-1",style:{"font-size":"14px"}},[u("First Name "),s("span",{class:"text-danger"},"*")],-1)),m(s("input",{id:"first_name","onUpdate:modelValue":e[2]||(e[2]=o=>t.form.first_name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.first_name}]),placeholder:"Enter first name",required:""},null,2),[[c,t.form.first_name]]),t.errors.first_name?(l(),i("div",A,a(t.errors.first_name[0]),1)):d("",!0)])]),s("div",O,[s("div",P,[e[18]||(e[18]=s("label",{for:"last_name",class:"form-label mb-1",style:{"font-size":"14px"}},[u("Last Name "),s("span",{class:"text-danger"},"*")],-1)),m(s("input",{id:"last_name","onUpdate:modelValue":e[3]||(e[3]=o=>t.form.last_name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.last_name}]),placeholder:"Enter last name",required:""},null,2),[[c,t.form.last_name]]),t.errors.last_name?(l(),i("div",j,a(t.errors.last_name[0]),1)):d("",!0)])]),s("div",G,[s("div",H,[e[19]||(e[19]=s("label",{for:"middle_name",class:"form-label mb-1",style:{"font-size":"14px"}},"Middle Name",-1)),m(s("input",{id:"middle_name","onUpdate:modelValue":e[4]||(e[4]=o=>t.form.middle_name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.middle_name}]),placeholder:"Enter middle name (optional)"},null,2),[[c,t.form.middle_name]]),t.errors.middle_name?(l(),i("div",J,a(t.errors.middle_name[0]),1)):d("",!0)])]),s("div",K,[s("div",Q,[e[20]||(e[20]=s("label",{for:"email",class:"form-label mb-1",style:{"font-size":"14px"}},[u("Email "),s("span",{class:"text-danger"},"*")],-1)),m(s("input",{id:"email","onUpdate:modelValue":e[5]||(e[5]=o=>t.form.email=o),type:"email",class:f(["form-control form-control-sm",{"is-invalid":t.errors.email}]),placeholder:"Enter email",onInput:e[6]||(e[6]=o=>t.form.email=o.target.value.toLowerCase()),required:""},null,34),[[c,t.form.email]]),t.errors.email?(l(),i("div",R,a(t.errors.email[0]),1)):d("",!0)])]),s("div",S,[s("div",W,[e[21]||(e[21]=s("label",{for:"mobile",class:"form-label mb-1",style:{"font-size":"14px"}},"Mobile",-1)),m(s("input",{id:"mobile","onUpdate:modelValue":e[7]||(e[7]=o=>t.form.mobile=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.mobile}]),placeholder:"Enter mobile number (optional)"},null,2),[[c,t.form.mobile]]),t.errors.mobile?(l(),i("div",X,a(t.errors.mobile[0]),1)):d("",!0)])]),s("div",Y,[s("div",Z,[e[22]||(e[22]=s("label",{for:"company_name",class:"form-label mb-1",style:{"font-size":"14px"}},"Company Name",-1)),m(s("input",{id:"company_name","onUpdate:modelValue":e[8]||(e[8]=o=>t.form.company_name=o),type:"text",class:f(["form-control form-control-sm",{"is-invalid":t.errors.company_name}]),placeholder:"Enter company name (optional)"},null,2),[[c,t.form.company_name]]),t.errors.company_name?(l(),i("div",I,a(t.errors.company_name[0]),1)):d("",!0)])]),s("div",_,[s("div",ee,[e[23]||(e[23]=s("label",{for:"birth_date",class:"form-label mb-1",style:{"font-size":"14px"}},"Birth Date",-1)),m(s("input",{id:"birth_date","onUpdate:modelValue":e[9]||(e[9]=o=>g.value=o),type:"date",class:f(["form-control form-control-sm",{"is-invalid":t.errors.birth_date}])},null,2),[[c,g.value]]),t.errors.birth_date?(l(),i("div",te,a(t.errors.birth_date[0]),1)):d("",!0)])]),s("div",se,[s("div",oe,[s("label",ie,[e[24]||(e[24]=u(" Password ",-1)),t.editingUser?d("",!0):(l(),i("span",le,"*"))]),m(s("input",{id:"password","onUpdate:modelValue":e[10]||(e[10]=o=>t.form.password=o),type:"password",class:f(["form-control form-control-sm",{"is-invalid":t.errors.password}]),placeholder:t.editingUser?"Enter new password (optional)":"Enter password",required:!t.editingUser},null,10,re),[[c,t.form.password]]),t.errors.password?(l(),i("div",ae,a(t.errors.password[0]),1)):d("",!0)])]),s("div",ne,[s("div",de,[e[26]||(e[26]=s("label",{for:"state_id",class:"form-label mb-1",style:{"font-size":"14px"}},[u("State "),s("span",{class:"text-danger"},"*")],-1)),m(s("select",{id:"state_id","onUpdate:modelValue":e[11]||(e[11]=o=>t.form.state_id=o),class:f(["form-control form-control-sm",{"is-invalid":t.errors.state_id}]),onChange:e[12]||(e[12]=o=>t.form.city_id=""),required:""},[e[25]||(e[25]=s("option",{value:""},"Select a state",-1)),(l(!0),i(h,null,U(t.states,o=>(l(),i("option",{key:o.id,value:o.id},a(o.name)+" ("+a(o.code)+") ",9,me))),128))],34),[[z,t.form.state_id]]),t.errors.state_id?(l(),i("div",fe,a(t.errors.state_id[0]),1)):d("",!0)])]),s("div",ce,[s("div",ue,[e[28]||(e[28]=s("label",{for:"city_id",class:"form-label mb-1",style:{"font-size":"14px"}},[u("City "),s("span",{class:"text-danger"},"*")],-1)),m(s("select",{id:"city_id","onUpdate:modelValue":e[13]||(e[13]=o=>t.form.city_id=o),class:f(["form-control form-control-sm",{"is-invalid":t.errors.city_id}]),disabled:!t.form.state_id||b.value,required:""},[e[27]||(e[27]=s("option",{value:""},"Select a city",-1)),(l(!0),i(h,null,U(v.value,o=>(l(),i("option",{key:o.id,value:o.id},a(o.name),9,be))),128))],10,ve),[[z,t.form.city_id]]),b.value?(l(),i("div",ye,"Loading cities...")):d("",!0),t.errors.city_id?(l(),i("div",xe,a(t.errors.city_id[0]),1)):d("",!0)])]),s("div",ge,[s("div",ke,[e[30]||(e[30]=s("label",{class:"form-label mb-1",style:{"font-size":"14px"}},"Status",-1)),s("div",ze,[m(s("input",{id:"is_active","onUpdate:modelValue":e[14]||(e[14]=o=>t.form.is_active=o),type:"checkbox",class:"form-check-input",style:{width:"16px",height:"16px"}},null,512),[[q,t.form.is_active]]),e[29]||(e[29]=s("label",{for:"is_active",class:"form-check-label ms-2",style:{"font-size":"14px"}}," Active ",-1))])])])])]))}});export{we as _};
